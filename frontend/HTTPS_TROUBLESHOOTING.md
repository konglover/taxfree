# HTTPS 连接问题排查

## 问题：显示"此网站无法提供安全连接"

这是自签名证书的正常现象。请按以下步骤操作：

### 方法 1：在浏览器中信任证书（推荐）

1. **访问网站**：在浏览器中输入 `https://localhost:5173`
2. **看到安全警告**：点击"高级"或"Advanced"
3. **继续访问**：点击"继续访问 localhost（不安全）"或"Proceed to localhost (unsafe)"
4. **完成**：现在应该可以正常访问了

### 方法 2：清除浏览器缓存

如果方法 1 不行，尝试：

1. **Chrome/Edge**：
   - 按 `F12` 打开开发者工具
   - 右键点击地址栏的刷新按钮
   - 选择"清空缓存并硬性重新加载"

2. **Firefox**：
   - 按 `Ctrl+Shift+Delete`
   - 选择"缓存"
   - 点击"立即清除"

### 方法 3：检查服务器是否正常运行

1. **确认服务器已启动**：
   ```bash
   cd frontend
   npm run dev
   ```

2. **检查端口**：确保 5173 端口没有被其他程序占用

3. **查看控制台**：检查是否有错误信息

### 方法 4：使用 HTTP（临时方案）

如果 HTTPS 一直有问题，可以临时使用 HTTP：

1. 编辑 `frontend/vite.config.ts`
2. 将 `https: true` 改为 `https: false`
3. 重启服务器
4. 使用 `http://localhost:5173` 访问

**注意**：使用 HTTP 时，移动端浏览器无法访问摄像头功能。

### 方法 5：手动信任证书（高级）

如果需要永久信任证书：

1. **导出证书**：
   - 访问 `https://localhost:5173`
   - 点击地址栏的锁图标
   - 查看证书详情
   - 导出证书

2. **安装证书**：
   - Windows：双击证书文件，选择"安装证书"
   - 选择"当前用户" → "将所有证书放入以下存储" → "受信任的根证书颁发机构"

### 常见错误信息

#### "ERR_CERT_AUTHORITY_INVALID"
- **原因**：浏览器不信任自签名证书
- **解决**：按照方法 1 继续访问

#### "ERR_SSL_PROTOCOL_ERROR"
- **原因**：服务器未正确配置 HTTPS
- **解决**：检查 `vite.config.ts` 配置，确保 `https: true`

#### "ERR_CONNECTION_REFUSED"
- **原因**：服务器未启动或端口被占用
- **解决**：启动服务器或检查端口

### 移动端访问

如果需要在手机上访问：

1. **确保手机和电脑在同一网络**
2. **使用电脑的 IP 地址**：`https://192.168.x.x:5173`
3. **首次访问时**：手机会显示安全警告，选择"继续访问"或"高级" → "继续"

### 仍然无法解决？

如果以上方法都不行，请检查：

1. **防火墙设置**：确保 5173 端口未被阻止
2. **代理设置**：检查是否有代理软件干扰
3. **浏览器版本**：确保使用最新版本的浏览器
4. **Node.js 版本**：确保 Node.js 版本 >= 18

### 联系支持

如果问题仍然存在，请提供：
- 浏览器类型和版本
- 错误信息截图
- 控制台错误日志
- 操作系统信息















